(include-book "exec")
(include-book "env")

(env/exec (mk-env-op "6002600301600901"))

(env/exec (mk-env-op "6060604052361560275760e060020a600035046341c0e1b58114606e578063e5225381146096575b60d56000341115606c57346060908152605890600160a060020a033316907f90890809c654f11d6e72a28fa60149770a0d11ec6c92319d6ceb2bb0a4ea1a1590602090a35b565b60d5600054600160a060020a0390811633919091161415606c57600054600160a060020a0316ff5b60d5600054600160a060020a0390811633919091161415606c5760008054600160a060020a039081169190301631606082818181858883f15050505050565b00"))

;; contract SimpleStorage {
;;   uint storedData;
;;   function set(uint x) {
;;     storedData = x;
;;   }
;;   function get() constant returns (uint retVal) {
;;     return storedData;
;;   }
;; }
;; Contract registration:
(env/exec (mk-env-op "6060604052341561000f57600080fd5b60d38061001d6000396000f3006060604052600436106049576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff16806360fe47b114604e5780636d4ce63c14606e575b600080fd5b3415605857600080fd5b606c60048080359060200190919050506094565b005b3415607857600080fd5b607e609e565b6040518082815260200191505060405180910390f35b8060008190555050565b600080549050905600a165627a7a72305820e1f98c821c12eea52047d7324b034ddccc41eaa7365d369b34580ab73c71a8940029"))
;; Contract being registered:
(env/exec (mk-env-op "6060604052600436106049576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff16806360fe47b114604e5780636d4ce63c14606e575b600080fd5b3415605857600080fd5b606c60048080359060200190919050506094565b005b3415607857600080fd5b607e609e565b6040518082815260200191505060405180910390f35b8060008190555050565b600080549050905600a165627a7a72305820e1f98c821c12eea52047d7324b034ddccc41eaa7365d369b34580ab73c71a8940029"))


;; Deed contract runtime opcode
;; https://github.com/ethereum/ens/blob/f3334337083728728da56824a5d0a30a8712b60c/HashRegistrarSimplified.sol#L25
(env/exec (mk-env-op "60606040526004361061008e576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff16806305b34410146100905780630b5ab3d5146100b957806313af4035146100ce5780632b20e397146101075780638da5cb5b1461015c578063bbe42771146101b1578063faab9d39146101d4578063fb1669ca1461020d575b005b341561009b57600080fd5b6100a3610225565b6040518082815260200191505060405180910390f35b34156100c457600080fd5b6100cc61022b565b005b34156100d957600080fd5b610105600480803573ffffffffffffffffffffffffffffffffffffffff169060200190919050506102d8565b005b341561011257600080fd5b61011a6103da565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b341561016757600080fd5b61016f6103ff565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b34156101bc57600080fd5b6101d26004808035906020019091905050610425565b005b34156101df57600080fd5b61020b600480803573ffffffffffffffffffffffffffffffffffffffff16906020019091905050610559565b005b61022360048080359060200190919050506105f7565b005b60015481565b600260149054906101000a900460ff161561024557600080fd5b600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166108fc3073ffffffffffffffffffffffffffffffffffffffff16319081150290604051600060405180830381858888f19350505050156102d35761dead73ffffffffffffffffffffffffffffffffffffffff16ff5b600080fd5b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614151561033357600080fd5b80600260006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055507fa2ea9883a321a3e97b8266c2b078bfeec6d50c711ed71f874a90d500ae2eaf3681604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390a150565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614151561048057600080fd5b600260149054906101000a900460ff16151561049b57600080fd5b6000600260146101000a81548160ff02191690831515021790555061dead73ffffffffffffffffffffffffffffffffffffffff166108fc6103e83073ffffffffffffffffffffffffffffffffffffffff1631846103e803028115156104fc57fe5b049081150290604051600060405180830381858888f19350505050151561052257600080fd5b7fbb2ce2f51803bba16bc85282b47deeea9a5c6223eabea1077be696b3f265cf1360405160405180910390a161055661022b565b50565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415156105b457600080fd5b806000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614151561065257600080fd5b600260149054906101000a900460ff16151561066d57600080fd5b803073ffffffffffffffffffffffffffffffffffffffff1631101561069157600080fd5b600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166108fc823073ffffffffffffffffffffffffffffffffffffffff1631039081150290604051600060405180830381858888f19350505050151561070c57600080fd5b505600a165627a7a7230582099b524f367ac8f6d64a5b0deae6fb395bb563d711c6ed83685ea7c6352aa3bdd0029"))
